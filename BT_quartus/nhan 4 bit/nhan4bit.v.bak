module nhan4bit(a,b,p);
input [3:0]a,b;
output [7:0]p;
wire [14:0]x;
wire [10:0]co;
wire [5:0]s;
assign p[0] = a[0]&b[0];
assign x[0] = a[1]&b[0];
assign x[1] = a[0]&b[1];
assign x[2] = a[2]&b[0];
assign x[3] = a[1]&b[1];
assign x[4] = a[3]&b[0];
assign x[5] = a[2]&b[1];
assign x[6] = a[3]&b[1];
assign x[7] = a[0]&b[2];
assign x[8] = a[1]&b[2];
assign x[9] = a[2]&b[2];
assign x[10] = a[3]&b[2];
assign x[11] = a[0]&b[3];
assign x[12] = a[1]&b[3];
assign x[13] = a[2]&b[3];
assign x[14] = a[3]&b[3];
fa fa1(x[0],x[1],1'b0,co[0],p[1]);
fa fa2(x[2],x[3],co[0],co[1],s[0]);
fa fa3(x[4],x[5],co[1],co[2],s[1]);
fa fa4(1'b0,x[6],co[2],co[3],s[2]);
fa fa5(s[0],x[7],1'b0,co[4],p[2]);
fa fa6(s[1],x[8],co[4],co[5],s[3]);
fa fa7(s[2],x[9],co[5],co[6],s[4]);
fa fa8(co[3],x[10],co[6],co[7],s[5]);
fa fa9(s[3],x[11],1'b0,co[8],p[3]);
fa fa10(s[4],x[12],co[8],co[9],p[4]);
fa fa11(s[5],x[13],co[9],co[10],p[5]);
fa fa12(co[7],x[14],co[10],p[7],p[6]);
module fa(A,B,ci,co,s);
input A,B,ci;
output s,co;
assign s = (A^B)^ci;
assign co = (A&B)|((a^b)&ci);
endmodule
